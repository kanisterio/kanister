on:
  issues:
    types:
    - opened
jobs:
  triage:
    runs-on: ubuntu-latest
    steps:
    - id: get_issue_number
      run: echo "::set-output name=output::${{ github.event.issue.number }}"
    - uses: andymckay/labeler@1.0.2
      with:
        add-labels: "triage"
        repo-token: ${{ secrets.GH_TOKEN }}
    - uses: peter-evans/create-or-update-comment@v2
      with:
        issue-number: ${{ steps.get_issue_number.outputs.output }}
        body: |
          Thanks for opening this issue :+1:. The team will review it soon and get back to you.

          If this is a bug report, make sure to include clear instructions how on to reproduce the issue with [minimal reproducible examples](https://stackoverflow.com/help/minimal-reproducible-example), where possible. If this is a security report, please review our security policy as outlined in [SECURITY.md](https://github.com/ihcsim/kanister/blob/master/SECURITY.md).

          Also, take a look at our project [Code of Conduct](https://github.com/ihcsim/kanister/blob/master/CODE_OF_CONDUCT.md) document, if you haven't already.

          Finally, consider giving Kanister a :star:!
    - uses: alex-page/github-project-automation-plus@v0.8.1
      with:
        repo-token: ${{ secrets.GH_TOKEN }}
        project: Kanister
        column: To Be Triaged
